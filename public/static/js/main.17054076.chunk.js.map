{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","images/trash.svg","components/Card.js","images/editAvatar.svg","images/profile__edit.svg","images/add-button__plus.svg","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","onClick","type","trash","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","load","profileEdit","about","buttonPlus","map","Footer","Date","getFullYear","PopupWithForm","props","isOpen","onClose","title","method","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","required","autoComplete","minLength","maxLength","placeholder","id","value","onChange","target","AddPlacePopup","placeRef","useRef","urlRef","current","ref","EditAvatarPopup","avatarRef","onUpdateAvatar","ImagePopup","api","config","this","_url","baseUrl","_headers","headers","_cardsUrl","cardsUrl","_likesUrl","likesUrl","_usersUrl","usersUrl","_userUrl","userUrl","_avatarUrl","avatarUrl","_check","res","ok","json","Promise","reject","status","fetch","then","data","body","JSON","stringify","image","cardId","authorization","App","setСurrentUser","getUserInfo","catch","error","console","setCards","getInitialCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","log","editUserInfo","err","addCard","editUserPic","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17054076.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../images/header__logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={headerLogo} alt=\"Лого\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/trash.2af49b82.svg\";","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport trash from '../images/trash.svg';\r\n\r\nfunction Card({ \r\n  card,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  //Класс кнопки удаления карточки в зависимости от того наша или нет//\r\n  const cardDeleteButtonClassName = (\r\n  `card__trash ${isOwn ? 'card__trash_visible' : 'card__trash_hidden'}`\r\n  );\r\n\r\n  //Класс кнопки лайка в зависимости от нажата/нет //\r\n  const cardLikeButtonClassName = (\r\n    `button__like ${isLiked ? 'button__like_activ' : ''}`\r\n    );\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <img src={card.link} className=\"card__image\" alt=\"Фотография\" onClick={handleCardClick} />\r\n      <button type=\"button\" className=\"button button__delete\" onClick={handleDeleteClick}>\r\n        <img src={trash} className={cardDeleteButtonClassName} alt=\"Удалить\" />\r\n      </button>\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","export default __webpack_public_path__ + \"static/media/editAvatar.ae1a976d.svg\";","export default __webpack_public_path__ + \"static/media/profile__edit.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add-button__plus.bed8c136.svg\";","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nimport load from '../images/editAvatar.svg';\r\nimport profileEdit from '../images/profile__edit.svg';\r\nimport buttonPlus from '../images/add-button__plus.svg';\r\n\r\nfunction Main({ \r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n          <img src={load} alt=\"Редактирование аватара\" onClick={onEditAvatar} className=\"profile__avatar-load\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button type=\"button\" onClick={onEditProfile} className=\"button\"><img src={profileEdit} alt=\"Изм.\"\r\n            className=\"profile__edit\" /></button>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"button button_add_card\"><img src={buttonPlus} alt=\"Добавить\"\r\n          onClick={onAddPlace} className=\"profile__add-button\" /></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {\r\n          cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                key={card._id}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n              />\r\n            );\r\n          })\r\n        }\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <>\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__title\">&copy; {new Date().getFullYear()}. Mesto Russia</p>\r\n      </footer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport buttonPlus from '../images/add-button__plus.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n    <div className={`popup popup__${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" onClick={props.onClose} className=\"button\"><img src={buttonPlus} alt=\"Закрыть\"\r\n          className={`popup__close popup__close_${props.name}`} /></button>\r\n        <h2 className={`popup__title popup__title_${props.name}`}>{props.title}</h2>\r\n        <form className={`popup__form popup__form_${props.name}`} name={props.name} method=\"POST\" onSubmit={props.onSubmit}>\r\n          {props.children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Изменение состояния имени/описания //\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  // Хук на обновление профиля при изменении контекста //\r\n  useEffect(() => {\r\n    if (!props.isOpen) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser, props]);\r\n\r\n  // Сабмит формы профиля //\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"user\"\r\n      title=\"Редактировать профиль\"\r\n      {...props}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        required\r\n        autoComplete=\"off\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Имя\"\r\n        className=\"popup__input popup__input_name popup__input_name-profile\"\r\n        id=\"name\"\r\n        name=\"name\"\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        id=\"name-error\"\r\n         className=\"error\">\r\n      </span>\r\n      <input\r\n        type=\"text\"\r\n        required autoComplete=\"off\"\r\n        minLength=\"2\" maxLength=\"200\"\r\n        placeholder=\"Род деятельности\"\r\n        className=\"popup__input popup__input_description popup__input_description-profile\"\r\n        id=\"job\"\r\n        name=\"info\"\r\n        value={description || ''}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span\r\n        id=\"job-error\"\r\n        className=\"error\">\r\n      </span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__save\">\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const placeRef = React.useRef();\r\n    const urlRef = React.useRef();\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onAddPlace({\r\n            name: placeRef.current.value,\r\n            link: urlRef.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"place\"\r\n            title=\"Новое место\"\r\n            {...props}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n                ref={placeRef}\r\n                type=\"text\"\r\n                required\r\n                autoComplete=\"off\"\r\n                minLength=\"2\"\r\n                maxLength=\"30\"\r\n                placeholder=\"Название\"\r\n                className=\"popup__input popup__input_name popup__input_name-card\"\r\n                id=\"picName\"\r\n                name=\"name\"\r\n            />\r\n            <span\r\n                id=\"picName-error\"\r\n                className=\"error\">\r\n            </span>\r\n            <input\r\n                ref={urlRef}\r\n                type=\"url\"\r\n                required\r\n                autoComplete=\"off\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_description popup__input_url-card\"\r\n                id=\"picLink\"\r\n                name=\"link\"\r\n            />\r\n            <span\r\n                id=\"picLink-error\"\r\n                className=\"error\">\r\n            </span>\r\n            <button\r\n                type=\"submit\"\r\n                className=\"popup__save\">\r\n                Создать\r\n            </button>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"avatar\"\r\n            title=\"Обновить аватар\"\r\n            {...props}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n                ref={avatarRef}\r\n                type=\"url\"\r\n                required\r\n                autoComplete=\"off\"\r\n                placeholder=\"Ссылка на аватар\"\r\n                className=\"popup__input popup__input_name popup__input_name-avatar\"\r\n                id=\"picLink\"\r\n                name=\"link\"\r\n            />\r\n            <span\r\n                id=\"picLink-error\"\r\n                className=\"error\">\r\n            </span>\r\n            <button\r\n                type=\"submit\"\r\n                className=\"popup__save\">\r\n                Сохранить\r\n            </button>\r\n        </PopupWithForm>\r\n    );\r\n\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport buttonPlus from '../images/add-button__plus.svg';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <div className={`popup popup__image\" ${card && 'popup_opened'}`}>\r\n      <div className=\"popup__image-button\">\r\n        <button type=\"button\" className=\"button\" onClick={onClose}><img src={buttonPlus} \r\n          alt=\"Закрыть\" className=\"popup__close popup__close_image\" /></button>\r\n        <h2 className=\"popup__image-name\">{card ? card.name : \"\"}</h2>\r\n          <img src={card ? card.link : \"\"} className=\"popup__image-place\" alt={card ? card.name : \"\"} />\r\n      </div>\r\n    </div>  \r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(config) {\r\n    this._url = config.baseUrl;\r\n    this._headers = config.headers;\r\n    this._cardsUrl = config.cardsUrl;\r\n    this._likesUrl = config.likesUrl;\r\n    this._usersUrl = config.usersUrl;\r\n    this._userUrl = config.userUrl;\r\n    this._avatarUrl = config.avatarUrl;\r\n    this._check = (res) => {\r\n      if (res.ok) { return res.json() }\r\n      return Promise.reject(`Error: ${res.status}`)\r\n    }\r\n  }\r\n\r\n  // Получить массив карточек с сервера //\r\n  getInitialCards() {\r\n    return fetch(`${this._url}${this._cardsUrl}`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._check);\r\n  };\r\n\r\n  // Добавить карточку на сервер //\r\n  addCard(data) {\r\n    return fetch(`${this._url}${this._cardsUrl}`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n      .then(this._check);\r\n  };\r\n\r\n  // Получить данные пользователя //\r\n  getUserInfo() {\r\n    return fetch(`${this._url}${this._usersUrl}${this._userUrl}`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._check);\r\n  }\r\n\r\n  // Изменить данные пользователя //\r\n  editUserInfo(data) {\r\n    return fetch(`${this._url}${this._usersUrl}${this._userUrl}`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then(this._check);\r\n  }\r\n\r\n  // Изменить аватар //\r\n  editUserPic(image) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(image)\r\n    })\r\n      .then(this._check);\r\n  }\r\n\r\n  // Удалить карточку //\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}${this._cardsUrl}/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._check);\r\n  }\r\n\r\n  // Поставить/снять лайк //\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._url}${this._cardsUrl}/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n  }\r\n\r\n}\r\n\r\n// Api - идентификация //\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\r\n  cardsUrl: '/cards',\r\n  usersUrl: '/users',\r\n  userUrl: '/me',\r\n  avatarUrl: '/me/avatar',\r\n  headers: {\r\n    authorization: 'eaa08385-02d1-499c-a13e-a2b5f60e8932',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React, { useEffect, useState } from 'react';\r\nimport '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\n\r\nfunction App() {\r\n\r\n  // Хуки для данных о пользователе //\r\n  const [currentUser, setСurrentUser] = useState('');\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n      .then(res => {\r\n        setСurrentUser(res)\r\n      })\r\n      .catch((error) => console.error(error))\r\n  }, []);\r\n\r\n  // Хуки для получения карточек //\r\n  const [cards, setCards] = useState([]);\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then(res => {\r\n        setCards(res)\r\n      })\r\n      .catch((error) => console.error(error))\r\n  }, []);\r\n\r\n  // Хуки состояния - для открытия попапов //\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n\r\n  // Хук для выбора карточки - для большой картинки//\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n  // Функция для состояния попапа //\r\n  function handleCardClick(props) {\r\n    setSelectedCard(props);\r\n  }\r\n\r\n  // Открытие попапов //\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // Закрытие попапов //\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  ///////////////////// Запросы через Api /////////////////////////\r\n  /////////////////////////////////////////////////////////////////\r\n\r\n  // Лайки карточки - проверка id, вызов api запроса //\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch((error) => console.error(error));\r\n  }\r\n\r\n   // Удаление карточки - проверка id, вызов api запроса //\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  // Редактирование профиля - вызов api запроса //\r\n  function handleUpdateUser(data) {\r\n    api.editUserInfo(data)\r\n      .then((res) => {\r\n        setСurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Изменение аватара - вызов api запроса //\r\n  function handleUpdateAvatar(image) {\r\n    console.log(image);\r\n    api.editUserPic(image)\r\n      .then((image) => {\r\n        setСurrentUser(image);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Добавление карточки - вызов api запроса //\r\n  function handleAddPlaceSubmit(newCard) {\r\n    api.addCard(newCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        setIsAddPlacePopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider\r\n        value={currentUser}>\r\n\r\n        <Header />\r\n\r\n        <Main\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <PopupWithForm\r\n          name=\"confirm\"\r\n          title=\"Вы уверены?\"\r\n          onClose={closeAllPopups}\r\n        >\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__save\">\r\n            Да\r\n          </button>\r\n        </PopupWithForm>\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}